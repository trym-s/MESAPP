--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: mes_db; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA mes_db;


ALTER SCHEMA mes_db OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: sensor; Type: TABLE; Schema: mes_db; Owner: postgres
--

CREATE TABLE mes_db.sensor (
    "SensorId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "SensorName" character varying(50) NOT NULL
);


ALTER TABLE mes_db.sensor OWNER TO postgres;

--
-- Name: sensor_SensorId_seq; Type: SEQUENCE; Schema: mes_db; Owner: postgres
--

CREATE SEQUENCE mes_db."sensor_SensorId_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE mes_db."sensor_SensorId_seq" OWNER TO postgres;

--
-- Name: sensor_SensorId_seq; Type: SEQUENCE OWNED BY; Schema: mes_db; Owner: postgres
--

ALTER SEQUENCE mes_db."sensor_SensorId_seq" OWNED BY mes_db.sensor."SensorId";


--
-- Name: workorder; Type: TABLE; Schema: mes_db; Owner: postgres
--

CREATE TABLE mes_db.workorder (
    "WorkorderId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "TaktTime" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "StartDate" timestamp with time zone NOT NULL,
    "FinishDate" timestamp with time zone NOT NULL,
    "CurrentScodeValue" integer NOT NULL
);


ALTER TABLE mes_db.workorder OWNER TO postgres;

--
-- Name: workorder_WorkorderId_seq; Type: SEQUENCE; Schema: mes_db; Owner: postgres
--

ALTER TABLE mes_db.workorder ALTER COLUMN "WorkorderId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME mes_db."workorder_WorkorderId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: workorder_performance_log; Type: TABLE; Schema: mes_db; Owner: postgres
--

CREATE TABLE mes_db.workorder_performance_log (
    "Id" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "WorkorderId" integer NOT NULL,
    "RecordedAt" timestamp with time zone NOT NULL,
    "Oee" numeric(8,4),
    "Performance" numeric(8,4),
    "Quality" numeric(8,4),
    "Availability" numeric(8,4),
    "CycleTime" numeric(10,2),
    total_startup_downtime interval,
    total_planned_downtime interval,
    total_unplanned_downtime interval,
    total_net_available_time interval,
    total_net_operation_time interval,
    "TotalTime" interval
);


ALTER TABLE mes_db.workorder_performance_log OWNER TO postgres;

--
-- Name: workorder_performance_log_Id_seq; Type: SEQUENCE; Schema: mes_db; Owner: postgres
--

CREATE SEQUENCE mes_db."workorder_performance_log_Id_seq"
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE mes_db."workorder_performance_log_Id_seq" OWNER TO postgres;

--
-- Name: workorder_performance_log_Id_seq; Type: SEQUENCE OWNED BY; Schema: mes_db; Owner: postgres
--

ALTER SEQUENCE mes_db."workorder_performance_log_Id_seq" OWNED BY mes_db.workorder_performance_log."Id";


--
-- Name: workorder_state_log; Type: TABLE; Schema: mes_db; Owner: postgres
--

CREATE TABLE mes_db.workorder_state_log (
    "LogId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "WorkorderId" integer NOT NULL,
    "OldScodeId" integer NOT NULL,
    "NewScodeId" integer NOT NULL,
    "ChangedByOperatorId" integer NOT NULL,
    "ChangedAt" timestamp with time zone NOT NULL,
    "Reason" text
);


ALTER TABLE mes_db.workorder_state_log OWNER TO postgres;

--
-- Name: workorder_state_log_LogId_seq; Type: SEQUENCE; Schema: mes_db; Owner: postgres
--

ALTER TABLE mes_db.workorder_state_log ALTER COLUMN "LogId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME mes_db."workorder_state_log_LogId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: workstation; Type: TABLE; Schema: mes_db; Owner: postgres
--

CREATE TABLE mes_db.workstation (
    "WorkstationId" integer NOT NULL,
    "WorkstationName" text,
    "IsActive" boolean NOT NULL,
    "SerialNumber" text
);


ALTER TABLE mes_db.workstation OWNER TO postgres;

--
-- Name: workstation_WorkstationId_seq; Type: SEQUENCE; Schema: mes_db; Owner: postgres
--

ALTER TABLE mes_db.workstation ALTER COLUMN "WorkstationId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME mes_db."workstation_WorkstationId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Sensors; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Sensors" (
    "SensorId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "SensorName" text NOT NULL
);


ALTER TABLE public."Sensors" OWNER TO postgres;

--
-- Name: Sensors_SensorId_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Sensors" ALTER COLUMN "SensorId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Sensors_SensorId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: WorkorderEventLogs; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."WorkorderEventLogs" (
    "LogId" integer NOT NULL,
    "WorkorderId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "ScodeValue" text NOT NULL,
    "StartTime" timestamp with time zone NOT NULL,
    "EndTime" timestamp with time zone NOT NULL
);


ALTER TABLE public."WorkorderEventLogs" OWNER TO postgres;

--
-- Name: WorkorderEventLogs_LogId_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."WorkorderEventLogs" ALTER COLUMN "LogId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."WorkorderEventLogs_LogId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Workorders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Workorders" (
    "WorkorderId" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "TaktTime" integer NOT NULL,
    "Quantity" integer NOT NULL,
    "IsActive" boolean NOT NULL,
    "StartDate" timestamp with time zone NOT NULL,
    "FinishDate" timestamp with time zone NOT NULL,
    "CurrentScodeValue" text NOT NULL
);


ALTER TABLE public."Workorders" OWNER TO postgres;

--
-- Name: Workorders_WorkorderId_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Workorders" ALTER COLUMN "WorkorderId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Workorders_WorkorderId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: WorkstationPerformances; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."WorkstationPerformances" (
    "Id" integer NOT NULL,
    "WorkstationId" integer NOT NULL,
    "WorkorderId" integer NOT NULL,
    "RecordedAt" timestamp with time zone NOT NULL,
    "Oee" numeric NOT NULL,
    "Performance" numeric NOT NULL,
    "Quality" numeric NOT NULL,
    "Availability" numeric NOT NULL,
    "TotalTime" interval NOT NULL,
    "CycleTime" numeric NOT NULL
);


ALTER TABLE public."WorkstationPerformances" OWNER TO postgres;

--
-- Name: WorkstationPerformances_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."WorkstationPerformances" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."WorkstationPerformances_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Workstations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Workstations" (
    "WorkstationId" integer NOT NULL,
    "WorkstationName" text NOT NULL,
    "IsActive" boolean NOT NULL,
    "SerialNumber" text NOT NULL,
    "ScodeValue" text NOT NULL
);


ALTER TABLE public."Workstations" OWNER TO postgres;

--
-- Name: Workstations_WorkstationId_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Workstations" ALTER COLUMN "WorkstationId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Workstations_WorkstationId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO postgres;

--
-- Name: sensor SensorId; Type: DEFAULT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.sensor ALTER COLUMN "SensorId" SET DEFAULT nextval('mes_db."sensor_SensorId_seq"'::regclass);


--
-- Name: workorder_performance_log Id; Type: DEFAULT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_performance_log ALTER COLUMN "Id" SET DEFAULT nextval('mes_db."workorder_performance_log_Id_seq"'::regclass);


--
-- Data for Name: sensor; Type: TABLE DATA; Schema: mes_db; Owner: postgres
--

COPY mes_db.sensor ("SensorId", "WorkstationId", "SensorName") FROM stdin;
1	1	Titreşim Sensörü
2	2	Basınç Sensörü
\.


--
-- Data for Name: workorder; Type: TABLE DATA; Schema: mes_db; Owner: postgres
--

COPY mes_db.workorder ("WorkorderId", "WorkstationId", "TaktTime", "Quantity", "IsActive", "StartDate", "FinishDate", "CurrentScodeValue") FROM stdin;
4	1	45	100	f	2025-04-20 20:52:58.287304+03	2025-04-20 21:52:58.287304+03	10
5	2	60	150	t	2025-04-20 22:22:58.293356+03	2025-04-21 00:52:58.293356+03	22
6	2	60	150	f	2025-04-20 19:52:58.293356+03	2025-04-20 20:52:58.293356+03	21
2	2	60	500	f	2025-04-20 21:29:23.852382+03	2025-04-21 00:29:23.852382+03	20
1	1	45	1000	f	2025-04-20 20:29:23.852382+03	2025-04-21 01:29:23.852382+03	10
3	1	45	100	t	2025-04-20 21:52:58.287304+03	2025-04-20 23:52:58.287304+03	31
\.


--
-- Data for Name: workorder_performance_log; Type: TABLE DATA; Schema: mes_db; Owner: postgres
--

COPY mes_db.workorder_performance_log ("Id", "WorkstationId", "WorkorderId", "RecordedAt", "Oee", "Performance", "Quality", "Availability", "CycleTime", total_startup_downtime, total_planned_downtime, total_unplanned_downtime, total_net_available_time, total_net_operation_time, "TotalTime") FROM stdin;
1	1	1	2025-04-20 22:29:30.061774+03	85.5000	90.2000	95.0000	91.0000	42.50	00:05:00	00:10:00	00:15:00	04:00:00	03:30:00	05:00:00
2	2	2	2025-04-20 22:29:30.061774+03	78.3000	80.0000	85.0000	82.0000	58.75	00:03:00	00:08:00	00:10:00	03:30:00	03:00:00	04:00:00
3	1	1	2025-04-20 22:53:01.876317+03	85.2000	88.0000	92.5000	89.4000	44.20	00:05:00	00:07:00	00:03:00	02:00:00	01:48:00	02:12:00
4	2	3	2025-04-20 22:53:01.876317+03	78.9000	80.5000	90.0000	85.3000	59.50	00:03:00	00:06:00	00:04:00	02:30:00	02:18:00	02:42:00
\.


--
-- Data for Name: workorder_state_log; Type: TABLE DATA; Schema: mes_db; Owner: postgres
--

COPY mes_db.workorder_state_log ("LogId", "WorkstationId", "WorkorderId", "OldScodeId", "NewScodeId", "ChangedByOperatorId", "ChangedAt", "Reason") FROM stdin;
1	1	1	1	2	101	2025-04-20 21:29:34.877408+03	Operatör mola verdi
2	2	2	2	3	102	2025-04-20 21:59:34.877408+03	Makine ayarı yapıldı
3	1	1	10	0	0	2025-04-20 22:46:36.183588+03	Makine arızası giderildi
4	1	1	10	11	1001	2025-04-20 22:33:06.424257+03	Montaj yeniden başladı
5	2	3	21	22	1002	2025-04-20 22:43:06.424257+03	Test süreci başladı
6	1	3	11	0	0	2025-04-20 23:10:25.773827+03	Makine arızası giderildi
7	1	3	0	12	0	2025-04-21 00:40:29.123108+03	Makine arızası giderildi
8	1	3	12	16	0	2025-04-21 00:40:36.014645+03	Makine arızası giderildi
9	1	3	16	31	101	2025-04-21 01:01:07.785573+03	Üretim arızası çözüldü
\.


--
-- Data for Name: workstation; Type: TABLE DATA; Schema: mes_db; Owner: postgres
--

COPY mes_db.workstation ("WorkstationId", "WorkstationName", "IsActive", "SerialNumber") FROM stdin;
1	Montaj İstasyonu 1	t	WSN-1001
2	Paketleme İstasyonu	t	WSN-1002
3	Montaj İstasyonu A	t	WSA-1001
4	Test İstasyonu B	t	WSB-2001
\.


--
-- Data for Name: Sensors; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Sensors" ("SensorId", "WorkstationId", "SensorName") FROM stdin;
\.


--
-- Data for Name: WorkorderEventLogs; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."WorkorderEventLogs" ("LogId", "WorkorderId", "WorkstationId", "ScodeValue", "StartTime", "EndTime") FROM stdin;
\.


--
-- Data for Name: Workorders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Workorders" ("WorkorderId", "WorkstationId", "TaktTime", "Quantity", "IsActive", "StartDate", "FinishDate", "CurrentScodeValue") FROM stdin;
\.


--
-- Data for Name: WorkstationPerformances; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."WorkstationPerformances" ("Id", "WorkstationId", "WorkorderId", "RecordedAt", "Oee", "Performance", "Quality", "Availability", "TotalTime", "CycleTime") FROM stdin;
\.


--
-- Data for Name: Workstations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Workstations" ("WorkstationId", "WorkstationName", "IsActive", "SerialNumber", "ScodeValue") FROM stdin;
\.


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20250420190419_InitialCreate	8.0.0
20250311195354_AddWorkorderEventLogKey	8.0.2
\.


--
-- Name: sensor_SensorId_seq; Type: SEQUENCE SET; Schema: mes_db; Owner: postgres
--

SELECT pg_catalog.setval('mes_db."sensor_SensorId_seq"', 2, true);


--
-- Name: workorder_WorkorderId_seq; Type: SEQUENCE SET; Schema: mes_db; Owner: postgres
--

SELECT pg_catalog.setval('mes_db."workorder_WorkorderId_seq"', 6, true);


--
-- Name: workorder_performance_log_Id_seq; Type: SEQUENCE SET; Schema: mes_db; Owner: postgres
--

SELECT pg_catalog.setval('mes_db."workorder_performance_log_Id_seq"', 4, true);


--
-- Name: workorder_state_log_LogId_seq; Type: SEQUENCE SET; Schema: mes_db; Owner: postgres
--

SELECT pg_catalog.setval('mes_db."workorder_state_log_LogId_seq"', 9, true);


--
-- Name: workstation_WorkstationId_seq; Type: SEQUENCE SET; Schema: mes_db; Owner: postgres
--

SELECT pg_catalog.setval('mes_db."workstation_WorkstationId_seq"', 4, true);


--
-- Name: Sensors_SensorId_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Sensors_SensorId_seq"', 1, false);


--
-- Name: WorkorderEventLogs_LogId_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."WorkorderEventLogs_LogId_seq"', 1, false);


--
-- Name: Workorders_WorkorderId_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Workorders_WorkorderId_seq"', 1, false);


--
-- Name: WorkstationPerformances_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."WorkstationPerformances_Id_seq"', 1, false);


--
-- Name: Workstations_WorkstationId_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Workstations_WorkstationId_seq"', 1, false);


--
-- Name: workorder PK_workorder; Type: CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder
    ADD CONSTRAINT "PK_workorder" PRIMARY KEY ("WorkorderId");


--
-- Name: workorder_state_log PK_workorder_state_log; Type: CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_state_log
    ADD CONSTRAINT "PK_workorder_state_log" PRIMARY KEY ("LogId");


--
-- Name: workstation PK_workstation; Type: CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workstation
    ADD CONSTRAINT "PK_workstation" PRIMARY KEY ("WorkstationId");


--
-- Name: sensor sensor_pkey; Type: CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.sensor
    ADD CONSTRAINT sensor_pkey PRIMARY KEY ("SensorId");


--
-- Name: workorder_performance_log workorder_performance_log_pkey; Type: CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_performance_log
    ADD CONSTRAINT workorder_performance_log_pkey PRIMARY KEY ("Id");


--
-- Name: Sensors PK_Sensors; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sensors"
    ADD CONSTRAINT "PK_Sensors" PRIMARY KEY ("SensorId");


--
-- Name: WorkorderEventLogs PK_WorkorderEventLogs; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkorderEventLogs"
    ADD CONSTRAINT "PK_WorkorderEventLogs" PRIMARY KEY ("LogId");


--
-- Name: Workorders PK_Workorders; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Workorders"
    ADD CONSTRAINT "PK_Workorders" PRIMARY KEY ("WorkorderId");


--
-- Name: WorkstationPerformances PK_WorkstationPerformances; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkstationPerformances"
    ADD CONSTRAINT "PK_WorkstationPerformances" PRIMARY KEY ("Id");


--
-- Name: Workstations PK_Workstations; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Workstations"
    ADD CONSTRAINT "PK_Workstations" PRIMARY KEY ("WorkstationId");


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: IX_workorder_WorkstationId; Type: INDEX; Schema: mes_db; Owner: postgres
--

CREATE INDEX "IX_workorder_WorkstationId" ON mes_db.workorder USING btree ("WorkstationId");


--
-- Name: IX_workorder_state_log_WorkorderId; Type: INDEX; Schema: mes_db; Owner: postgres
--

CREATE INDEX "IX_workorder_state_log_WorkorderId" ON mes_db.workorder_state_log USING btree ("WorkorderId");


--
-- Name: IX_workorder_state_log_WorkstationId; Type: INDEX; Schema: mes_db; Owner: postgres
--

CREATE INDEX "IX_workorder_state_log_WorkstationId" ON mes_db.workorder_state_log USING btree ("WorkstationId");


--
-- Name: idx_workorder_is_active; Type: INDEX; Schema: mes_db; Owner: postgres
--

CREATE INDEX idx_workorder_is_active ON mes_db.workorder USING btree ("IsActive");


--
-- Name: idx_workstation_serial; Type: INDEX; Schema: mes_db; Owner: postgres
--

CREATE INDEX idx_workstation_serial ON mes_db.workstation USING btree ("SerialNumber");


--
-- Name: IX_Sensors_WorkstationId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Sensors_WorkstationId" ON public."Sensors" USING btree ("WorkstationId");


--
-- Name: IX_WorkorderEventLogs_WorkorderId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_WorkorderEventLogs_WorkorderId" ON public."WorkorderEventLogs" USING btree ("WorkorderId");


--
-- Name: IX_WorkorderEventLogs_WorkstationId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_WorkorderEventLogs_WorkstationId" ON public."WorkorderEventLogs" USING btree ("WorkstationId");


--
-- Name: IX_Workorders_WorkstationId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Workorders_WorkstationId" ON public."Workorders" USING btree ("WorkstationId");


--
-- Name: IX_WorkstationPerformances_WorkorderId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_WorkstationPerformances_WorkorderId" ON public."WorkstationPerformances" USING btree ("WorkorderId");


--
-- Name: IX_WorkstationPerformances_WorkstationId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_WorkstationPerformances_WorkstationId" ON public."WorkstationPerformances" USING btree ("WorkstationId");


--
-- Name: workorder_state_log FK_workorder_state_log_workorder_WorkorderId; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_state_log
    ADD CONSTRAINT "FK_workorder_state_log_workorder_WorkorderId" FOREIGN KEY ("WorkorderId") REFERENCES mes_db.workorder("WorkorderId") ON DELETE CASCADE;


--
-- Name: workorder_state_log FK_workorder_state_log_workstation_WorkstationId; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_state_log
    ADD CONSTRAINT "FK_workorder_state_log_workstation_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES mes_db.workstation("WorkstationId") ON DELETE CASCADE;


--
-- Name: workorder FK_workorder_workstation_WorkstationId; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder
    ADD CONSTRAINT "FK_workorder_workstation_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES mes_db.workstation("WorkstationId") ON DELETE CASCADE;


--
-- Name: sensor sensor_WorkstationId_fkey; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.sensor
    ADD CONSTRAINT "sensor_WorkstationId_fkey" FOREIGN KEY ("WorkstationId") REFERENCES mes_db.workstation("WorkstationId") ON DELETE CASCADE;


--
-- Name: workorder_performance_log workorder_performance_log_WorkorderId_fkey; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_performance_log
    ADD CONSTRAINT "workorder_performance_log_WorkorderId_fkey" FOREIGN KEY ("WorkorderId") REFERENCES mes_db.workorder("WorkorderId") ON DELETE CASCADE;


--
-- Name: workorder_performance_log workorder_performance_log_WorkstationId_fkey; Type: FK CONSTRAINT; Schema: mes_db; Owner: postgres
--

ALTER TABLE ONLY mes_db.workorder_performance_log
    ADD CONSTRAINT "workorder_performance_log_WorkstationId_fkey" FOREIGN KEY ("WorkstationId") REFERENCES mes_db.workstation("WorkstationId") ON DELETE CASCADE;


--
-- Name: Sensors FK_Sensors_Workstations_WorkstationId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sensors"
    ADD CONSTRAINT "FK_Sensors_Workstations_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES public."Workstations"("WorkstationId") ON DELETE CASCADE;


--
-- Name: WorkorderEventLogs FK_WorkorderEventLogs_Workorders_WorkorderId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkorderEventLogs"
    ADD CONSTRAINT "FK_WorkorderEventLogs_Workorders_WorkorderId" FOREIGN KEY ("WorkorderId") REFERENCES public."Workorders"("WorkorderId") ON DELETE CASCADE;


--
-- Name: WorkorderEventLogs FK_WorkorderEventLogs_Workstations_WorkstationId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkorderEventLogs"
    ADD CONSTRAINT "FK_WorkorderEventLogs_Workstations_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES public."Workstations"("WorkstationId") ON DELETE CASCADE;


--
-- Name: Workorders FK_Workorders_Workstations_WorkstationId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Workorders"
    ADD CONSTRAINT "FK_Workorders_Workstations_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES public."Workstations"("WorkstationId") ON DELETE CASCADE;


--
-- Name: WorkstationPerformances FK_WorkstationPerformances_Workorders_WorkorderId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkstationPerformances"
    ADD CONSTRAINT "FK_WorkstationPerformances_Workorders_WorkorderId" FOREIGN KEY ("WorkorderId") REFERENCES public."Workorders"("WorkorderId") ON DELETE CASCADE;


--
-- Name: WorkstationPerformances FK_WorkstationPerformances_Workstations_WorkstationId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."WorkstationPerformances"
    ADD CONSTRAINT "FK_WorkstationPerformances_Workstations_WorkstationId" FOREIGN KEY ("WorkstationId") REFERENCES public."Workstations"("WorkstationId") ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

